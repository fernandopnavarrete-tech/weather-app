<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LluviaCheck - Precisión Meteorológica</title>

    <!-- Fonts: Inter & Outfit -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Outfit:wght@400;600;700;800&display=swap"
        rel="stylesheet">

    <!-- Icons: Phosphor Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- PWA / Mobile Capable -->
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#0a0b1e">

    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="app-background"></div>
    <div class="glass-overlay"></div>

    <!-- Pull to Refresh Indicator -->
    <div id="refresh-indicator" class="refresh-indicator">
        <i class="ph ph-spinner ph-spin"></i>
    </div>

    <main class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="logo">
                <i class="ph-fill ph-drop logo-icon"></i>
                <h1>LluviaCheck</h1>
            </div>
            <div class="search-bar">
                <i class="ph ph-magnifying-glass"></i>
                <input type="text" id="cityInput" placeholder="Buscar localidad (ej: Madrid)..." value="">
                <button id="locationBtn" title="Usar mi ubicación"><i class="ph-fill ph-crosshair"></i></button>
                <button id="searchBtn">Buscar</button>
            </div>
            <div style="margin-left: auto; color: var(--text-secondary); font-size: 0.8rem;">
                Actualizado: <span id="lastUpdated">--:--</span>
            </div>
        </header>

        <!-- Main Dashboard -->
        <section class="dashboard" id="dashboard">
            <!-- Left Column: Current Status -->
            <!-- Compact Header: Location + 4 Stats -->
            <div class="current-weather glass-card">
                <div class="weather-header">
                    <h2 id="locationName">Madrid, ES</h2>

                </div>

                <div class="compact-stats-grid">
                    <!-- Temp -->
                    <div class="stat-item compact">
                        <i class="ph-fill ph-thermometer-simple"></i>
                        <div>
                            <span class="label">Temp</span>
                            <span class="value"><span id="currentTemp">--</span><span class="unit">°C</span></span>
                        </div>
                    </div>

                    <!-- Condition (Icon) -->
                    <div class="stat-item compact">
                        <i id="weatherIcon" class="ph-fill ph-question"></i>
                        <div>
                            <span class="label">Estado</span>
                            <span id="weatherDesc" class="value-text">--</span>
                        </div>
                    </div>

                    <!-- Rain 1h -->
                    <div class="stat-item compact">
                        <i class="ph-fill ph-drop-half"></i>
                        <div>
                            <span class="label">Lluvia (1h)</span>
                            <span id="rain1h" class="value">-- mm</span>
                        </div>
                    </div>

                    <!-- Wind -->
                    <div class="stat-item compact">
                        <i class="ph-fill ph-wind"></i>
                        <div>
                            <span class="label">Viento</span>
                            <span id="windSpeed" class="value">-- km/h</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Column: Charts -->
            <div class="rain-analysis glass-card">
                <div class="card-header">
                    <h3>Análisis de Precipitación</h3>
                    <div class="tabs">
                        <button class="tab active" data-view="24h">24 Horas</button>
                        <button class="tab" data-view="hourly">Hora a Hora</button>
                    </div>
                </div>
                <div class="chart-container" id="chartContainer">
                    <div class="chart-scroll-wrapper" id="chartScrollWrapper">
                        <canvas id="rainChart"></canvas>
                    </div>
                </div>
            </div>


        </section>
    </main>

    <script src="js/script.js"></script>
</body>

</html>